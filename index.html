<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="#">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css">
    <script>var meting_api = 'https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&referrer=:referrer';</script>
    <meta name="description" content="欢迎来到Leleo的奇妙世界！">
    <meta name="keywords" content="Leleo,leleo,个人主页,个人网站">
    <title></title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>

    <script>
      (function() {
        // 每 300 毫秒扫描一次页面，直到找到播放器
        const timer = setInterval(() => {
          const m = document.querySelector('meting-js');
          if (m && m.aplayer) {
            clearInterval(timer);
            console.log("找到播放器，准备激活...");
            
            const doPlay = () => {
              m.aplayer.play().then(() => {
                console.log("播放成功");
                ["click", "touchstart", "mousemove", "scroll"].forEach(e => 
                  window.removeEventListener(e, doPlay)
                );
              }).catch(() => {});
            };

            ["click", "touchstart", "mousemove", "scroll"].forEach(e => 
              window.addEventListener(e, doPlay)
            );
          }
        }, 300);
      })();
    </script>
  </body>
</html>
